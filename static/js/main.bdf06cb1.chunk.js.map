{"version":3,"sources":["thunks/user.js","components/Map.js","action-types/user.js","actions/user.js","components/Profile.js","containers/ProfileContainer.js","action-types/map-restaurants.js","actions/map-restaurants.js","constants.js","thunks/map-restaurants.js","components/RestaurantInfo.js","components/RestaurantSmallCard.js","components/RestaurantList.js","containers/RestaurantListContainer.js","containers/MapContainer.js","components/AuthForm.js","containers/App.js","reducers/restaurants.js","reducers/map.js","reducers/auth.js","reducers/index.js","store/store.js","index.js"],"names":["GoogleAuth","map","AUTH_SIGNED_IN","AUTH_SIGNED_OUT","AUTH_INITIALIZED","loadAuthDataFromStorage","JSON","parse","localStorage","getItem","authSignedIn","user","data","setItem","stringify","type","AT","authSignedOut","removeItem","handleAuthClick","isSignedIn","get","disconnect","signIn","e","console","warn","setSigninStatus","dispatch","currentUser","hasGrantedScopes","basicProfile","getBasicProfile","profile","name","getGivenName","familyName","getFamilyName","fullName","getName","imageUrl","getImageUrl","email","getEmail","actions","triggerGoogleLoaded","window","gapi","load","client","init","apiKey","discoveryDocs","clientId","scope","then","auth2","getAuthInstance","listen","initClient","Profile","renderAnonymous","classes","_this","props","react_default","a","createElement","className","about","index_es","anonymous","this","_this$props$auth","auth","initialized","avatar","style","backgroundImage","concat","username","variant","leaveBtn","onClick","React","PureComponent","withStyles","theme","width","maxWidth","margin","display","flexDirection","alignItems","height","borderRadius","marginRight","fontSize","user-info","justifyContent","top","padding","color","transition","backgroundColor","palette","primary","main","&:hover","light","authBtn","extends","@media (max-width: 600px)","textAlign","& > *","wordBreak","@media (max-width: 450px)","position","ProfileContainer","connect","store","GET_RESTAURANTS_REQUEST","GET_RESTAURANTS_SUCCESS","GET_RESTAURANTS_ERROR","SCRIPT_UPLOAD_ERROR","MAP_INITIALIZED","MAP_NEEDS_GEOLOCATION","MAP_CHANGE_CENTER","scriptUploadError","STYLES","featureType","elementType","stylers","lightness","visibility","weight","triggerMapLoaded","navigator","geolocation","getCurrentPosition","mapSuccess","mapError","enableHighAccuracy","timeout","maximumAge","pos","crd","coords","doNearbySearch","latitude","longitude","lat","lng","center","MAP","google","maps","Map","document","getElementById","zoom","places","PlacesService","nearbySearch","location","radius","searchRestaurantsStep","results","status","pagination","PlacesServiceStatus","OK","restaurants","error","getAdditionalInfo","placeId","callback","getDetails","place","reviews","phoneNum","international_phone_number","createMap","id","setOptions","styles","createMarkers","bounds","LatLngBounds","_loop","i","image","url","size","Size","origin","Point","anchor","scaledSize","marker","Marker","icon","title","reference","geometry","addListener","find","extend","fitBounds","RestaurantInfo","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","open","res","setState","additionalInfo","componentDidUpdate","prevProps","renderPhoneNum","state","dialogContent","renderReviews","ind","review","key","reviewLeft","profile_photo_url","author_name","timeAgo","relative_time_description","starsOuter","rating","toFixed","starsInner","reviewRight","reviewText","text","_this$props","handleClose","openClosed","vicinity","dialog","onClose","scrollWrapper","starsContent","Component","& > * > div","overflowX","overflowY","alignSelf","marginLeft","fontFamily","borderCollapse","&::before","content","left","whiteSpace","overflow","& + &","marginTop","& > h6","backgroundSize","@media (max-width: 550px)","RestaurantSmallCard","handleDialogClose","isDialogOpen","handleDialogOpen","renderWorkingStatus","restaurant","opening_hours","open_now","_this2","Fragment","components_RestaurantInfo","place_id","boxShadow","cursor","& > * > *","fontWeight","RestaurantList","listComponent","getElementsByClassName","onscroll","scrollTop","displayScrollBtn","componentWillUnmount","renderList","needsGeolocation","items","relocateContainer","NavLink","relocateMessage","to","relocateBtn","components_RestaurantSmallCard","renderLoading","isFetching","loadingMessage","upwardsArrow","scrollTo","header","list","scrollBehavior","gridTemplateColumns","gridTemplateRows","right","bottom","zIndex","& > *:first-child","textDecoration","@media (max-width: 650px)","RestaurantListContainer","MAP_ID","OPEN_LOCATION","OPEN_RESTAURANT_INFO","_this$state","_this$setState","defineProperty","prop","renderRestaurantInfo","restInfo","restaurantInfoData","renderLocationDialog","loadMap","_ref","arguments","length","undefined","setNewCenterByClick","rests","render","mapWrapper","mapDispatchToProps","event","latLng","clearListeners","MapContainer","authDialog","& > div:first-child","background","& > div > div","maxHeight","signInBtn","border","App","checkAuthFromStorage","attachAuthScript","attachMapScripts","s","src","defer","onload","onerror","head","appendChild","storageProfile","authSignIn","authSignOut","renderByUrl","Switch","Route","exact","path","containers_ProfileContainer","containers_RestaurantListContainer","containers_MapContainer","relocateText","Link","onMenuBtnClick","_this$props$classes","link","toggledLink","linkWrapper","shadowMaker","linkWrapperElem","shadowMakerElem","makeInvisible","opacity","menuToggled","Array","from","forEach","container","split","cName","onclick","components_AuthForm","pathName","pathname","app","topMenu","menuBtn","activeLink","renderAuthForm","withRouter","verticalAlign","&:focus","outline","&:active","&:first-child","borderBottomLeftRadius","borderTopLeftRadius","&:last-child","borderBottomRightRadius","borderTopRightRadius","secondary","minHeight","boxSizing","defaultState","combineReducers","action","objectSpread","_action$user","toConsumableArray","loggerMiddleware","createLogger","preloadedState","createStore","rootReducer","applyMiddleware","thunkMiddleware","createMuiTheme","typography","useNextVariants","ReactDOM","BrowserRouter","es","containers_App"],"mappings":"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","file":"static/js/main.bdf06cb1.chunk.js","sourcesContent":["import * as actions from '../actions/user';\r\n\r\nlet GoogleAuth;\r\nconst SCOPE = 'profile email'; // Giving access to basic data like name\\email\\avatar\r\n// eslint-disable-no-undef\r\n// Initializes client with Google JS API\r\nconst initClient = (dispatch) => () =>{\r\n    // Initialize the window.gapi.client object, which app uses to make API requests.\r\n    // Get API key and client ID from API Console.\r\n    // 'scope' field specifies space-delimited list of access scopes.\r\n    window.gapi.client.init({\r\n        'apiKey': 'AIzaSyBc0yLsAhKiyU2Cys9LVy0N4yA_t7AqF5E',\r\n        'discoveryDocs': [],\r\n        'clientId': '250951134431-44ianb9v3ks5gf368fsk6ppn3f3o2p85.apps.googleusercontent.com',\r\n        'scope': SCOPE\r\n    }).then(() => {\r\n        GoogleAuth = window.gapi.auth2.getAuthInstance();\r\n\r\n        // Listen for sign-in state changes.\r\n        GoogleAuth.isSignedIn.listen(setSigninStatus(dispatch));\r\n    });\r\n}\r\n\r\n// Handles sign-in\\sign-out clicks\r\nexport const handleAuthClick = () => {\r\n    try {\r\n        if(GoogleAuth) {\r\n            if (GoogleAuth.isSignedIn.get()) {\r\n                // User is authorized and has clicked 'Sign out' button.\r\n                GoogleAuth.disconnect();\r\n            } else {\r\n                // User is not signed in. Start Google auth flow.\r\n                GoogleAuth.signIn();\r\n            }\r\n        }\r\n    } catch (e) {\r\n        console.warn(`auth error:`) || console.warn(e);\r\n    }\r\n\r\n}\r\n\r\n// Listens for changes in authorization status\r\nconst setSigninStatus = dispatch => () => {\r\n    const user = GoogleAuth.currentUser.get();\r\n    const isAuthorized = user.hasGrantedScopes(SCOPE);\r\n    if (isAuthorized) {\r\n        // Setting profile data for dispatching\r\n        const basicProfile = user.getBasicProfile();\r\n        const profile = {\r\n            name: basicProfile.getGivenName(),\r\n            familyName: basicProfile.getFamilyName(),\r\n            fullName: basicProfile.getName(),\r\n            imageUrl: basicProfile.getImageUrl(),\r\n            email: basicProfile.getEmail(),\r\n        };\r\n        dispatch(actions.authSignedIn(profile));\r\n    } else {\r\n        dispatch(actions.authSignedOut());\r\n    }\r\n};\r\n\r\n// Callback, when script for Google JS API is loaded\r\nexport const triggerGoogleLoaded = () => dispatch => {\r\n    dispatch(actions.authInitialized());\r\n    window.gapi.load('client:auth2', initClient(dispatch));\r\n};\r\n","import React from 'react';\r\nimport { Button, Dialog, DialogTitle, DialogActions,\r\n    DialogContent, DialogContentText} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport RestaurantInfo from './RestaurantInfo';\r\nimport { createMap, createMarkers} from \"../thunks/map-restaurants\";\r\n\r\nconst styles = {\r\n    mapWrapper: {\r\n        width: '100%',\r\n        height: 'calc(100% - 40px)',\r\n    },\r\n    map: {\r\n        width: '100%',\r\n        height: '100%',\r\n    },\r\n    '@media (max-width: 450px)':{\r\n        mapWrapper: {\r\n            position: 'relative',\r\n            height: '100%',\r\n        }\r\n    }\r\n};\r\n\r\n//current Google Map object\r\nlet map;\r\n\r\nconst MAP_ID = 'MAP_ID';\r\n\r\n//Keys for Map state\r\nconst OPEN_LOCATION = 'openLocation';\r\nconst OPEN_RESTAURANT_INFO = 'openRestaurantInfo';\r\n\r\n\r\nclass Map extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            [OPEN_LOCATION]: true,\r\n            [OPEN_RESTAURANT_INFO]: false,\r\n            restaurantInfoData: {\r\n                vicinity: '',\r\n                title: '',\r\n                rating: '',\r\n                placeId: '',\r\n            }\r\n        }\r\n    }\r\n\r\n    //Callback for each marker - open dialog with full data of certain restaurant\r\n    callback = (restaurant) => {\r\n        this.setState({\r\n            [OPEN_RESTAURANT_INFO]: true,\r\n            restaurantInfoData: restaurant,\r\n        });\r\n    };\r\n\r\n    handleClose = (prop) => {\r\n        this.setState({[prop]: false });\r\n    };\r\n\r\n    //Renders (when user clicked on marker) Dialog window with info about restaurant\r\n    renderRestaurantInfo = () => {\r\n        if (!this.state[OPEN_RESTAURANT_INFO]) {\r\n            return;\r\n        }\r\n        const restInfo = this.state.restaurantInfoData;\r\n        const { vicinity, name: title, rating, place_id: placeId } = restInfo;\r\n        let openClosed = '';\r\n        if (restInfo.opening_hours){\r\n            if (restInfo.opening_hours.open_now){\r\n                openClosed = 'Open';\r\n            }else{\r\n                openClosed = 'Closed';\r\n            }\r\n        }\r\n        return (\r\n            <RestaurantInfo\r\n                vicinity={vicinity}\r\n                openClosed={openClosed}\r\n                open={this.state[OPEN_RESTAURANT_INFO]}\r\n                handleClose={() => this.handleClose(OPEN_RESTAURANT_INFO)}\r\n                title={title}\r\n                rating={rating}\r\n                placeId={placeId}\r\n            />\r\n        )\r\n    };\r\n\r\n    //Render request to choose location by clicking on map\r\n    renderLocationDialog = () => {\r\n        if (!this.state[OPEN_LOCATION] || !this.props.map.needsGeolocation) {\r\n            return;\r\n        }\r\n        return(\r\n            <div>\r\n                <Dialog\r\n                    open={this.state[OPEN_LOCATION]}\r\n                    onClose={() => this.handleClose(OPEN_LOCATION)}\r\n                >\r\n                    <DialogTitle>{\"Choose your location\"}</DialogTitle>\r\n                    <DialogContent>\r\n                        <DialogContentText >\r\n                            Please click on the location where you want to find restaurants.\r\n                        </DialogContentText>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                            onClick={() => this.handleClose(OPEN_LOCATION)}\r\n                            variant='outlined'\r\n                            color=\"primary\"\r\n                        >\r\n                            Got it\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    //Mounts Google Map into document node with id = MAP_ID\r\n    loadMap = ({lat, lng} = {lat: 59, lng: 30}) => {\r\n        map = createMap(MAP_ID, {lat: lat, lng: lng});\r\n    };\r\n\r\n    //Mount Google Map, create markers or change center by click if needed\r\n    componentDidMount = () => {\r\n        if (this.props.map.initialized ) {\r\n            this.loadMap();\r\n            if (!this.props.map.needsGeolocation) {\r\n                createMarkers(this.props.rests.items, map, this.callback);\r\n            }else {\r\n                this.props.setNewCenterByClick(map)\r\n            }\r\n        }\r\n    };\r\n\r\n    //almost the same as componentDidMount\r\n    componentDidUpdate = (prevProps) => {\r\n        if (!prevProps.map.initialized && this.props.map.initialized) {\r\n            this.loadMap();\r\n        }\r\n        if (this.props.map.needsGeolocation\r\n            && prevProps.map.needsGeolocation !== this.props.map.needsGeolocation){\r\n            this.props.setNewCenterByClick(map);\r\n        }\r\n        if (prevProps.rests.items.length !== this.props.rests.items.length && map){\r\n            createMarkers(this.props.rests.items, map, this.callback)\r\n        }\r\n    };\r\n\r\n    render = () => {\r\n        let { classes } = this.props;\r\n        return (\r\n            <div className={classes.mapWrapper}>\r\n                {this.renderRestaurantInfo()}\r\n                {this.renderLocationDialog()}\r\n                <div className={classes.map} id={MAP_ID}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMap.propTypes = {\r\n    map: PropTypes.object.isRequired,\r\n    rests: PropTypes.shape({\r\n        error: PropTypes.string.isRequired,\r\n        isFetching: PropTypes.bool.isRequired,\r\n        items: PropTypes.arrayOf(PropTypes.object).isRequired\r\n    }),\r\n    setNewCenterByClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Map);\r\n","export const AUTH_SIGNED_IN = 'AUTH_SIGNED_IN';\r\nexport const AUTH_SIGNED_OUT = 'AUTH_SIGNED_OUT';\r\nexport const AUTH_INITIALIZED = 'AUTH_INITIALIZED';\r\n","import * as AT from '../action-types/user';\r\n\r\nconst STORAGE_AUTH_KEY = 'auth_date';\r\n\r\nexport const saveAuthDataToStorage = (data) => localStorage.setItem(STORAGE_AUTH_KEY, JSON.stringify(data));\r\n\r\nexport const loadAuthDataFromStorage = () => JSON.parse(localStorage.getItem(STORAGE_AUTH_KEY));\r\n\r\nexport const removeAuthDataFromStorage = () => localStorage.removeItem(STORAGE_AUTH_KEY);\r\n\r\nexport const authInitialized = () => ({\r\n    type: AT.AUTH_INITIALIZED,\r\n});\r\n\r\nexport const authSignedIn = user => {\r\n    saveAuthDataToStorage(user);\r\n    return {\r\n        type: AT.AUTH_SIGNED_IN,\r\n        user: user,\r\n    }\r\n};\r\n\r\nexport const authSignedOut = () => {\r\n    removeAuthDataFromStorage();\r\n    return {\r\n        type: AT.AUTH_SIGNED_OUT,\r\n    }\r\n};\r\n","import React from 'react';\r\nimport {Button, Typography} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { handleAuthClick } from \"../thunks/user\";\r\n\r\nconst styles = theme => ({\r\n    profile: {\r\n        width: '100%',\r\n        maxWidth: '1000px',\r\n        margin: '20px auto',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    about: {\r\n      display: 'flex',\r\n    },\r\n    avatar: {\r\n        //backgroundColor: '#ff3c27',\r\n        width: '100px',\r\n        height: '100px',\r\n        borderRadius: '100px',\r\n        marginRight: '25px',\r\n    },\r\n    anonymous: {\r\n        fontSize: '4rem',\r\n    },\r\n    'user-info': {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around',\r\n        width: 'calc(100% - 100px)',\r\n    },\r\n    leaveBtn: {\r\n        top: '27px',\r\n        padding: '10px',\r\n        color: 'white',\r\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        backgroundColor: theme.palette.primary.main,\r\n        '&:hover': {\r\n            color: '#141414',\r\n            backgroundColor: theme.palette.primary.light,\r\n        },\r\n    },\r\n    authBtn: {\r\n        extends: 'leaveBtn',\r\n    },\r\n    '@media (max-width: 600px)': {\r\n        about: {\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            textAlign: 'center',\r\n        },\r\n        'user-info': {\r\n            width: '100%',\r\n            '& > *': {\r\n                fontSize: '2rem',\r\n            }\r\n        },\r\n        email: {\r\n            wordBreak: 'break-all',\r\n        }\r\n    },\r\n    '@media (max-width: 450px)':{\r\n        profile: {\r\n            position: 'relative',\r\n            top: '25px',\r\n        }\r\n    }\r\n});\r\n\r\nclass Profile extends React.PureComponent{\r\n    renderAnonymous = () => {\r\n        const { classes } = this.props;\r\n        return (\r\n            <div className={classes.profile}>\r\n                <div className={classes.about}>\r\n                    <div className={classes['user-info']}>\r\n                        <Typography className={classes.anonymous}>Anonymous</Typography>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n\r\n    render(){\r\n        const { classes} = this.props;\r\n        const { imageUrl, fullName, email, initialized } = this.props.auth;\r\n        if (fullName === ''){\r\n            return this.renderAnonymous();\r\n        }\r\n        return (\r\n            <div className={classes.profile}>\r\n                <div className={classes.about}>\r\n                    <div className={classes.avatar} style={{backgroundImage: `url(\"${imageUrl}\")`}} >\r\n                    </div>\r\n                    <div className={classes['user-info']}>\r\n                        <Typography className={classes.username} variant='h3'>{fullName}</Typography>\r\n                        <Typography className={classes.email} variant='h4'>Your email: {email}</Typography>\r\n                    </div>\r\n                </div>\r\n                <Button className={classes.leaveBtn} onClick={initialized ? () => handleAuthClick() : () => false}>{'Leave'}</Button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nProfile.propTypes = {\r\n    user: PropTypes.shape({\r\n        imageUrl: PropTypes.string.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        familyName: PropTypes.string.isRequired,\r\n        fullName: PropTypes.string.isRequired,\r\n        email: PropTypes.string.isRequired,\r\n    }),\r\n};\r\n\r\nexport default withStyles(styles)(Profile);\r\n","import { connect } from 'react-redux';\r\nimport Profile from '../components/Profile';\r\n\r\nconst mapStateToProps = store => ({\r\n    auth: store.auth,\r\n});\r\n\r\nconst ProfileContainer = connect(\r\n    mapStateToProps\r\n)(Profile);\r\n\r\nexport default ProfileContainer;\r\n","export const GET_RESTAURANTS_REQUEST = 'GET_RESTAURANTS_REQUEST';\r\nexport const GET_RESTAURANTS_SUCCESS = 'GET_RESTAURANTS_SUCCESS';\r\nexport const GET_RESTAURANTS_ERROR = 'GET_RESTAURANTS_ERROR';\r\n\r\nexport const SCRIPT_UPLOAD_ERROR = 'SCRIPT_UPLOAD_ERROR';\r\n\r\nexport const MAP_INITIALIZED = 'MAP_INITIALIZED';\r\nexport const MAP_NEEDS_GEOLOCATION = 'MAP_NEEDS_GEOLOCATION';\r\nexport const MAP_CHANGE_CENTER = 'MAP_CHANGE_CENTER';\r\n","import * as AT from '../action-types/map-restaurants';\r\n\r\nexport const scriptUploadError = () => ({\r\n    type:  AT.SCRIPT_UPLOAD_ERROR,\r\n});\r\n\r\nexport const getRestaurantsRequest = () => ({\r\n    type: AT.GET_RESTAURANTS_REQUEST,\r\n});\r\n\r\nexport const getRestaurantsSuccess = restaurants => ({\r\n    type: AT.GET_RESTAURANTS_SUCCESS,\r\n    restaurants: restaurants,\r\n});\r\n\r\nexport const getRestaurantsError = error => ({\r\n    type: AT.GET_RESTAURANTS_ERROR,\r\n    error: error\r\n});\r\n\r\nexport const mapInitialized = () => ({\r\n    type: AT.MAP_INITIALIZED,\r\n});\r\n\r\nexport const mapChangeCenter = (lat, lng) => ({\r\n    type: AT.MAP_CHANGE_CENTER,\r\n    center: {lat: lat, lng: lng}\r\n});\r\n\r\nexport const mapNeedsGeolocation = () => ({\r\n    type: AT.MAP_NEEDS_GEOLOCATION\r\n});\r\n","//Styles for map\r\nexport const STYLES = {\r\n  style: [\r\n      {\r\n          \"featureType\": \"administrative\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#1e1e1e\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"administrative\",\r\n          \"elementType\": \"labels.text.stroke\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#dadada\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"landscape\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#616161\"\r\n              },\r\n              {\r\n                  \"lightness\": -10\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"landscape.natural\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#5e2435\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"landscape.natural\",\r\n          \"elementType\": \"labels.text.stroke\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#e3e8f9\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"poi\",\r\n          \"stylers\": [\r\n              {\r\n                  \"visibility\": \"off\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"road\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#781fda\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"road\",\r\n          \"elementType\": \"labels.text.stroke\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#c9bac2\"\r\n              },\r\n              {\r\n                  \"weight\": 2.5\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"road.arterial\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n              {\r\n                  \"weight\": 0.5\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"road.local\",\r\n          \"elementType\": \"geometry.fill\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#ffff88\"\r\n              },\r\n              {\r\n                  \"weight\": 0.5\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"road.local\",\r\n          \"elementType\": \"labels.text\",\r\n          \"stylers\": [\r\n              {\r\n                  \"visibility\": \"off\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"transit\",\r\n          \"elementType\": \"geometry\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#737373\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"transit\",\r\n          \"elementType\": \"labels.text.fill\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#e4c6fd\"\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"transit\",\r\n          \"elementType\": \"labels.text.stroke\",\r\n          \"stylers\": [\r\n              {\r\n                  \"color\": \"#2b044a\"\r\n              },\r\n              {\r\n                  \"weight\": 2\r\n              }\r\n          ]\r\n      },\r\n      {\r\n          \"featureType\": \"administrative.land_parcel\",\r\n          \"stylers\": [\r\n              {\r\n                  \"visibility\": \"off\"\r\n              }\r\n          ]\r\n      },\r\n  ]\r\n};\r\n","import * as actions from '../actions/map-restaurants';\r\nimport { STYLES } from '../constants';\r\n\r\n//when maps api script loaded - dispatch appropriate info about user location (& do restaurants search, if possible)\r\nexport const triggerMapLoaded = () => {\r\n  return dispatch => {\r\n      dispatch(actions.mapInitialized());\r\n      let options = {\r\n          enableHighAccuracy: true,\r\n          timeout: 5000,\r\n          maximumAge: 0\r\n      };\r\n      navigator.geolocation.getCurrentPosition(\r\n          mapSuccess(dispatch),\r\n          mapError(dispatch),\r\n          options\r\n      );\r\n  }\r\n};\r\n\r\n//search restaurants nearby, if user gave access to his location\r\nconst mapSuccess = dispatch => pos => {\r\n  let crd = pos.coords;\r\n  doNearbySearch( crd.latitude, crd.longitude, dispatch);\r\n};\r\n\r\n//ask user to choose location by clicking on map\r\nconst mapError = dispatch => () => {\r\n  dispatch(actions.mapNeedsGeolocation());\r\n};\r\n\r\n//do search nearby to user location and save to store\r\nconst doNearbySearch = (lat, lng, dispatch) => {\r\n  let center = {lat: lat, lng: lng};\r\n  let MAP = new window.window.google.maps.Map(document.getElementById('map-invis'), {\r\n      center: center,\r\n      zoom: 8\r\n  });\r\n  let service = new window.google.maps.places.PlacesService(MAP);\r\n  service.nearbySearch({\r\n      location: center,\r\n      radius: 5000,\r\n      type: ['restaurant']\r\n  }, searchRestaurantsStep(dispatch));\r\n};\r\n\r\n//every step of getting restaurants\r\nconst searchRestaurantsStep = dispatch => (results, status, pagination) => {\r\n  dispatch(actions.getRestaurantsRequest());\r\n  if (status === window.google.maps.places.PlacesServiceStatus.OK) {\r\n      // if (pagination.hasNextPage){\r\n      //     console.log(`nextPage`);\r\n      //     setTimeout(() => {\r\n      //         dispatch(getRestaurantsSuccess(results));\r\n      //         pagination.nextPage();\r\n      //     }, 2000);\r\n      // }else {\r\n          //save to store restaurants\r\n          dispatch(actions.getRestaurantsSuccess(results));\r\n      //}\r\n  }else{\r\n      dispatch(actions.getRestaurantsError('get restaurants error'));\r\n  }\r\n};\r\n\r\n//user had chosen needed location, so save it to store and do nearby search\r\nexport const setNewCenterByClick = (map) => dispatch => {\r\n  window.google.maps.event.addListener(map, 'click',  event => {\r\n      let lat = event.latLng.lat(), lng = event.latLng.lng();\r\n      dispatch(actions.mapChangeCenter(lat, lng));\r\n      doNearbySearch(lat, lng, dispatch);\r\n      window.google.maps.event.clearListeners(map, 'click');\r\n  });\r\n};\r\n\r\n//When dialog with additional info opened - ask google for additional info like reviews & number\r\nexport const getAdditionalInfo = (placeId, callback) => {\r\n  let service = new window.google.maps.places.PlacesService(new window.google.maps.Map(document.getElementById('map-invis'), {\r\n      center: {lat: 0, lng: 0},\r\n      zoom: 8\r\n  }));\r\n  service.getDetails({\r\n      placeId: placeId\r\n  }, (place, status) => {\r\n      if (status === window.google.maps.places.PlacesServiceStatus.OK) {\r\n          callback({\r\n              reviews: place.reviews,\r\n              phoneNum: place.international_phone_number,\r\n          });\r\n      }\r\n  });\r\n};\r\n\r\n//creates google map by id of document node & given coords of center\r\nexport const createMap = (id, center) => {\r\n  let map = new window.google.maps.Map(document.getElementById(id), {\r\n      center: center,\r\n      zoom: 8\r\n  });\r\n  map.setOptions({styles: STYLES.style});\r\n  return map;\r\n};\r\n\r\n//attach markers to some map by given places\r\nexport const createMarkers = (places, map, callback) => {\r\n  let bounds = new window.google.maps.LatLngBounds();\r\n// eslint-disable-next-line no-cond-assign\r\n  for (let i = 0, place; place = places[i]; i++) {\r\n      let image = {\r\n          url: '/img/noun_Restaurant_368075.png',\r\n          size: new window.google.maps.Size(71, 71),\r\n          origin: new window.google.maps.Point(0, 0),\r\n          anchor: new window.google.maps.Point(17, 34),\r\n          scaledSize: new window.google.maps.Size(45, 45)\r\n      };\r\n\r\n      let marker = new window.google.maps.Marker({\r\n          map: map,\r\n          icon: image,\r\n          title: place.name,\r\n          reference: place.reference,\r\n          position: place.geometry.location\r\n      });\r\n\r\n      marker.addListener('click', () => {\r\n          callback(places.find(a => marker.reference === a.reference));\r\n      });\r\n\r\n      bounds.extend(place.geometry.location);\r\n  }\r\n  map.fitBounds(bounds);\r\n};\r\n","import { Button, Typography,\r\n Dialog, DialogContent, DialogTitle, DialogActions} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport { getAdditionalInfo } from \"../thunks/map-restaurants\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nconst styles = theme => ({\r\n    dialog: {\r\n        '& > * > div': {\r\n            overflowX: 'hidden',\r\n            textAlign: 'center',\r\n        },\r\n    },\r\n    scrollWrapper: {\r\n        overflowY: 'scroll',\r\n        overflowX: 'hidden',\r\n    },\r\n    dialogContent: {\r\n      overflowY: 'initial',\r\n        width: 'max-content',\r\n        wordBreak: 'break-all',\r\n    },\r\n    title: {\r\n        alignSelf: 'center',\r\n        '& > *': {\r\n            fontSize: '3rem',\r\n        },\r\n    },\r\n    openClosed: {\r\n        width: 'calc(100% - 32px)',\r\n    },\r\n    vicinity: {\r\n        width: 'calc(100% - 32px)',\r\n        '& > *': {\r\n            wordBreak: 'break-word',\r\n        },\r\n    },\r\n    phoneNum: {\r\n        marginLeft: 'auto',\r\n    },\r\n    starsContent: {\r\n        margin: '0 auto',\r\n    },\r\n    starsOuter: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        fontFamily: 'FontAwesome',\r\n        fontSize: '16px',\r\n        borderCollapse: 'collapse',\r\n        '&::before': {\r\n            content: '\"\\\\f006 \\\\f006 \\\\f006 \\\\f006 \\\\f006\"',\r\n        },\r\n    },\r\n    starsInner: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        width: 0,\r\n        '&::before': {\r\n            content: '\"\\\\f005 \\\\f005 \\\\f005 \\\\f005 \\\\f005\"',\r\n            color: '#f8ce0b',\r\n        },\r\n    },\r\n    review: {\r\n      display: 'flex',\r\n        '& + &': {\r\n          marginTop: '20px',\r\n        },\r\n    },\r\n    reviews: {\r\n        width: 'calc(100% - 32px)',\r\n        '& > *': {\r\n            wordBreak: 'break-all',\r\n        },\r\n    },\r\n    reviewLeft: {\r\n        width: '30%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginRight: '15px',\r\n        textAlign: 'center',\r\n        flexDirection: 'column',\r\n        '& > h6': {\r\n            width: '100%',\r\n            wordBreak: 'break-word',\r\n        },\r\n    },\r\n    avatar: {\r\n      width: '80px',\r\n      height: '80px',\r\n      alignSelf: 'center',\r\n        backgroundSize: 'contain',\r\n    },\r\n    timeAgo: {\r\n        wordBreak: 'break-word',\r\n    },\r\n    reviewRight: {\r\n        width: '70%',\r\n        textAlign: 'left',\r\n    },\r\n    reviewText: {\r\n        wordBreak: 'break-word',\r\n    },\r\n    leaveBtn: {\r\n        width: 'max-content',\r\n        margin: '0 auto',\r\n        color: 'white',\r\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        backgroundColor: theme.palette.primary.main,\r\n        '&:hover': {\r\n            color: '#141414',\r\n            backgroundColor: theme.palette.primary.light,\r\n        },\r\n    },\r\n    '@media (max-width: 550px)': {\r\n        dialog: {\r\n            '& > * > div': {\r\n                margin: '10px',\r\n            },\r\n        },\r\n        title: {\r\n          width: 'calc(100% - 32px)',\r\n            wordBreak: 'break-all',\r\n        },\r\n        review: {\r\n            flexDirection: 'column',\r\n            '& + &':{\r\n                marginTop: '15px',\r\n            }\r\n        },\r\n        reviewLeft:{\r\n            width: '100%',\r\n        },\r\n        reviewRight: {\r\n            width: '100%',\r\n        }\r\n    }\r\n});\r\n\r\n//Dialog window with more info about certain restaurant\r\nclass RestaurantInfo extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            additionalInfo: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        if (this.props.open){\r\n            //Happens when user click on map marker\r\n            getAdditionalInfo(this.props.placeId, (res) => {\r\n                    this.setState({additionalInfo: res});\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    componentDidUpdate = (prevProps) => {\r\n        if (!prevProps.open && this.props.open){\r\n            //if this additional info is rendered on screen\r\n            getAdditionalInfo(this.props.placeId, (res) => {\r\n                    this.setState({additionalInfo: res});\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    renderPhoneNum = () => {\r\n        if(!this.state.additionalInfo || !this.state.additionalInfo.phoneNum) {\r\n            return;\r\n        }\r\n        return (\r\n            <DialogContent className={`${this.props.classes.dialogContent} ${this.props.classes.phoneNum}`}>\r\n                <Typography variant='h6'>{this.state.additionalInfo.phoneNum}</Typography>\r\n            </DialogContent>\r\n        )\r\n    };\r\n\r\n    renderReviews = () => {\r\n        if(!this.state.additionalInfo || !this.state.additionalInfo.reviews) {\r\n            return;\r\n        }\r\n        const { classes } = this.props;\r\n        return (\r\n            <DialogContent className={`${classes.dialogContent} ${classes.reviews}`}>\r\n                {this.state.additionalInfo.reviews.map((a, ind) =>(\r\n                    <div className={classes.review} key={ind}>\r\n                        <div className={classes.reviewLeft}>\r\n                            <div className={classes.avatar} style={{backgroundImage: `url(\"${a.profile_photo_url}\")`}}/>\r\n                            <Typography variant='h6'>{a.author_name}</Typography>\r\n                            <Typography className={classes.timeAgo} variant='h6'>{a.relative_time_description}</Typography>\r\n                            <div className={classes.starsOuter}>\r\n                                <div style={{width: `${a.rating ? a.rating.toFixed(1) / 5*100 : 0}%`}} className={classes.starsInner}/>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classes.reviewRight}>\r\n                            <Typography variant='h6' className={classes.reviewText}>{a.text}</Typography>\r\n                        </div>\r\n                    </div>\r\n                    ))}\r\n            </DialogContent>\r\n        )\r\n    };\r\n\r\n    render(){\r\n        const {\r\n            classes, open, handleClose,\r\n            title, openClosed, rating, vicinity,\r\n        } = this.props;\r\n        return (\r\n            <Dialog\r\n                className={classes.dialog}\r\n                open={open}\r\n                onClose={handleClose}\r\n            >\r\n                <div className={classes.scrollWrapper}>\r\n                    <DialogTitle className={classes.title}>{title}</DialogTitle>\r\n                    <DialogContent className={`${classes.dialogContent} ${classes.openClosed}`}>\r\n                        <Typography variant='h5'>{openClosed}</Typography>\r\n                    </DialogContent>\r\n                    <DialogContent className={`${classes.dialogContent} ${classes.vicinity}`}>\r\n                        <Typography variant='h5'>{vicinity}</Typography>\r\n                    </DialogContent>\r\n                    <DialogContent className={`${classes.dialogContent} ${classes.starsContent}`}>\r\n                        <div className={classes.starsOuter}>\r\n                            <div style={{width: `${rating ? rating.toFixed(1) / 5*100 : 0}%`}} className={classes.starsInner}/>\r\n                        </div>\r\n                    </DialogContent>\r\n                    {this.renderPhoneNum()}\r\n                    {this.renderReviews()}\r\n                    <DialogActions>\r\n                        <Button className={classes.leaveBtn} onClick={handleClose}>\r\n                            Leave\r\n                        </Button>\r\n                    </DialogActions>\r\n                </div>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n\r\nRestaurantInfo.propTypes = {\r\n    open: PropTypes.bool.isRequired,\r\n    handleClose: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    openClosed: PropTypes.string,\r\n    rating: PropTypes.number,\r\n    placeId: PropTypes.string.isRequired,\r\n    vicinity: PropTypes.string.isRequired\r\n};\r\n\r\nexport default withStyles(styles)(RestaurantInfo);\r\n","import { Card, CardContent, CardHeader, Typography} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport RestaurantInfo from './RestaurantInfo';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst styles = {\r\n    restaurant: {\r\n        margin: '30px 10px',\r\n        width: '90%',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around',\r\n        alignItems: 'center',\r\n        boxShadow: '0 0 5px 0.2px #bdbdbd',\r\n        textAlign: 'center',\r\n        cursor: 'pointer',\r\n        padding: '5px',\r\n        '& > *':{\r\n            width: '100%',\r\n        },\r\n        '&:hover': {\r\n          boxShadow: '0px 0px 6px 0px #1b18189e',\r\n        },\r\n    },\r\n    title: {\r\n      '& > * > *':{\r\n          fontWeight: '400',\r\n        fontSize: '2rem',\r\n      },\r\n    },\r\n    starsOuter: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        fontFamily: 'FontAwesome',\r\n        fontSize: '16px',\r\n        borderCollapse: 'collapse',\r\n        '&::before': {\r\n            content: '\"\\\\f006 \\\\f006 \\\\f006 \\\\f006 \\\\f006\"',\r\n        },\r\n    },\r\n    starsInner: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        width: 0,\r\n        '&::before': {\r\n            content: '\"\\\\f005 \\\\f005 \\\\f005 \\\\f005 \\\\f005\"',\r\n            color: '#f8ce0b',\r\n        },\r\n    },\r\n    '@media (max-width: 450px)':{\r\n        restaurant:{\r\n            margin: '30px auto',\r\n        }\r\n    }\r\n};\r\n\r\nclass RestaurantSmallCard extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDialogOpen: false,\r\n        }\r\n    }\r\n\r\n    //Is this restaurant open or closed (or Google didn't tell us)\r\n    openClosed = '';\r\n\r\n    handleDialogClose = () => this.setState({isDialogOpen: false});\r\n\r\n    handleDialogOpen = () => this.setState({isDialogOpen: true});\r\n\r\n    renderWorkingStatus = (restaurant) => {\r\n        if (!restaurant.opening_hours) {\r\n            return;\r\n        }\r\n        if (restaurant.opening_hours.open_now){\r\n            this.openClosed = 'Open';\r\n            return (<Typography variant='h5'>Open</Typography>)\r\n        }else{\r\n            this.openClosed = 'Closed';\r\n            return (<Typography variant='h5'>Closed</Typography>)\r\n        }\r\n    };\r\n\r\n    render(){\r\n        const { restaurant, classes } = this.props;\r\n        return (\r\n            <React.Fragment>\r\n                <RestaurantInfo\r\n                    rating={restaurant.rating}\r\n                    title={restaurant.name}\r\n                    handleClose={() => this.handleDialogClose()}\r\n                    open={this.state.isDialogOpen}\r\n                    openClosed={this.openClosed}\r\n                    vicinity={restaurant.vicinity}\r\n                    placeId={restaurant.place_id}\r\n                />\r\n                <Card onClick={() => this.handleDialogOpen()} className={classes.restaurant}>\r\n                    <CardHeader className={classes.title} title={restaurant.name}/>\r\n                    <CardContent >\r\n                        <Typography variant='h5'>{restaurant.vicinity}</Typography>\r\n                    </CardContent>\r\n                    <CardContent className={classes.starsContent}>\r\n                        <div className={classes.starsOuter}>\r\n                            <div style={{width: `${restaurant.rating ? restaurant.rating.toFixed(1) / 5*100 : 0}%`}} className={classes.starsInner}/>\r\n                        </div>\r\n                        {this.renderWorkingStatus(restaurant)}\r\n                    </CardContent>\r\n                </Card>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nRestaurantSmallCard.propTypes = {\r\n    restaurant: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        photos: PropTypes.array,\r\n        name: PropTypes.string.isRequired,\r\n        rating: PropTypes.number,\r\n        vicinity: PropTypes.string.isRequired\r\n    }).isRequired\r\n};\r\n\r\nexport default withStyles(styles)(RestaurantSmallCard);\r\n","import React from 'react';\r\nimport {Fab, Typography} from '@material-ui/core';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { NavLink } from 'react-router-dom';\r\nimport RestaurantSmallCard from \"./RestaurantSmallCard\";\r\n\r\nconst styles = theme => ({\r\n    listComponent: {\r\n        height: 'calc(100% - 40px)',\r\n        scrollBehavior: 'smooth',\r\n        overflowY: 'auto',\r\n    },\r\n    list: {\r\n        width: '90%',\r\n        maxWidth: '800px',\r\n        marginTop: '10px',\r\n        margin: '30px auto',\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr 1fr',\r\n        gridTemplateRows: '1fr',\r\n    },\r\n    upwardsArrow: {\r\n        position: 'fixed',\r\n        right: '20px',\r\n        bottom: '40px',\r\n        fontSize: '28px',\r\n        zIndex: '2',\r\n        '& > *:first-child':{\r\n          position: 'relative',\r\n            color: 'white',\r\n          top: '-3px',\r\n        },\r\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        backgroundColor: theme.palette.primary.main,\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.primary.light,\r\n            '& > *:first-child':{\r\n                color: '#141414',\r\n            },\r\n        },\r\n    },\r\n    header: {\r\n      textAlign: 'center',\r\n        marginTop: '15px',\r\n      fontWeight: '300',\r\n    },\r\n    loadingMessage: {\r\n        margin: '20px auto',\r\n        width: 'max-content',\r\n    },\r\n    relocateContainer: {\r\n        margin: '20px auto',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'space-around',\r\n        alignItems: 'center',\r\n        width: '200%',\r\n    },\r\n    relocateMessage: {\r\n        marginTop: '15px',\r\n        textDecoration: 'none',\r\n    },\r\n    relocateBtn: {\r\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        backgroundColor: theme.palette.primary.main,\r\n        '& > *:first-child':{\r\n            position: 'relative',\r\n            color: 'white',\r\n        },\r\n        '&:hover': {\r\n            backgroundColor: theme.palette.primary.light,\r\n            '& > *:first-child':{\r\n                color: '#141414',\r\n            },\r\n        },\r\n    },\r\n    '@media (max-width: 650px)': {\r\n        header: {\r\n            fontSize: '3rem',\r\n        },\r\n        list:{\r\n            gridTemplateColumns: '1fr',\r\n            gridTemplateRows: '1fr',\r\n            maxWidth: '430px',\r\n        },\r\n        relocateContainer: {\r\n            width: '100%',\r\n        }\r\n    },\r\n    '@media (max-width: 450px)':{\r\n        listComponent: {\r\n            height: '100%',\r\n        },\r\n        header: {\r\n            position: 'relative',\r\n            marginTop: '0',\r\n            top: '25px',\r\n        },\r\n        list: {\r\n            position: 'relative',\r\n            top: '30px',\r\n        }\r\n    }\r\n});\r\n\r\nclass RestaurantList extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            displayScrollBtn: 'none'\r\n        };\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        const listComponent = this.props.classes.listComponent;\r\n        document.getElementsByClassName(listComponent)[0].onscroll = () => {\r\n            if (document.getElementsByClassName(listComponent)[0].scrollTop > 1) {\r\n                this.setState({displayScrollBtn: 'block'});\r\n            } else {\r\n                this.setState({displayScrollBtn: 'none'});\r\n            }\r\n        }\r\n    };\r\n\r\n    componentWillUnmount = () => {\r\n        document.getElementsByClassName(this.props.classes.listComponent)[0].onscroll = null;\r\n    };\r\n\r\n    renderList = () => {\r\n        const { classes, restaurants, needsGeolocation } = this.props;\r\n        if (!restaurants.items) {\r\n            return;\r\n        }\r\n        if (needsGeolocation){\r\n            return (\r\n                <div className={classes.relocateContainer}>\r\n                    <Typography variant='h4'>You need to select place in which you are located.</Typography>\r\n                    <NavLink className={classes.relocateMessage} to='map'><Fab className={classes.relocateBtn}>Go</Fab></NavLink>\r\n            </div>\r\n            )\r\n        }\r\n\r\n        return restaurants.items.map(a => (<RestaurantSmallCard key={a.id} restaurant={a}/>));\r\n    };\r\n\r\n    renderLoading = () => {\r\n        if (this.props.restaurants.isFetching){\r\n            return (<Typography className={this.props.classes.loadingMessage} variant='h3'>...loading</Typography>)\r\n        }\r\n    };\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        return (\r\n            <div className={classes.listComponent}>\r\n                <Fab\r\n                    style={{display: this.state.displayScrollBtn}}\r\n                    className={classes.upwardsArrow}\r\n                    onClick={() => document.getElementsByClassName(classes.listComponent)[0].scrollTo(0, 0)}\r\n                >\r\n                    \r\n                </Fab>\r\n                <Typography className={classes.header} variant='h2'>Restaurant list</Typography>\r\n                <div className={classes.list}>\r\n                    {this.renderList()}\r\n                </div>\r\n                {this.renderLoading()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nRestaurantList.propTypes = {\r\n    restaurants: PropTypes.shape({\r\n        error: PropTypes.string.isRequired,\r\n        isFetching: PropTypes.bool.isRequired,\r\n        items: PropTypes.arrayOf(\r\n            PropTypes.shape({\r\n                id: PropTypes.string.isRequired,\r\n                photos: PropTypes.array,\r\n                name: PropTypes.string.isRequired,\r\n                rating: PropTypes.number,\r\n                vicinity: PropTypes.string.isRequired\r\n            })\r\n        ).isRequired,\r\n    }).isRequired,\r\n};\r\n\r\n\r\nexport default withStyles(styles)(RestaurantList);\r\n","import { connect } from 'react-redux';\r\nimport RestaurantList from '../components/RestaurantList';\r\n\r\nconst mapStateToProps = store => ({\r\n    restaurants: store.restaurants,\r\n    needsGeolocation: store.map.needsGeolocation,\r\n});\r\n\r\nconst RestaurantListContainer = connect(\r\n    mapStateToProps\r\n)(RestaurantList);\r\n\r\nexport default RestaurantListContainer;\r\n","import { connect } from 'react-redux';\r\nimport Map from '../components/Map';\r\nimport { setNewCenterByClick } from \"../thunks/map-restaurants\";\r\n\r\nconst mapStateToProps = store => ({\r\n    map: store.map,\r\n    rests: store.restaurants,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n    setNewCenterByClick,\r\n};\r\n\r\nconst MapContainer = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Map);\r\n\r\nexport default MapContainer;\r\n","import React from 'react';\r\nimport {Dialog, DialogActions, DialogTitle, withStyles} from \"@material-ui/core\";\r\nimport { handleAuthClick } from \"../thunks/user\";\r\n\r\nconst styles = theme => ({\r\n    authDialog: {\r\n        '& > div:first-child':{\r\n            background: 'rgba(0, 0, 0, 0.8)',\r\n        },\r\n        '& > div > div': {\r\n            maxWidth: '400px',\r\n            maxHeight: '400px',\r\n            width: 'max-content',\r\n            height: 'max-content',\r\n        }\r\n    },\r\n    signInBtn: {\r\n        color: 'white',\r\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        backgroundColor: theme.palette.primary.main,\r\n        border: 'none',\r\n        cursor: 'pointer',\r\n        padding: '15px',\r\n        borderRadius: '5px',\r\n        fontSize: '21px',\r\n        margin: '10% auto 20% auto',\r\n        '&:hover': {\r\n            color: '#141414',\r\n            backgroundColor: theme.palette.primary.light,\r\n        },\r\n    },\r\n});\r\n\r\nconst AuthForm = ({classes}) => {\r\n    return (\r\n        <Dialog className={classes.authDialog} open={true}>\r\n            <DialogTitle>Please sign-in to use this app </DialogTitle>\r\n            <DialogActions>\r\n                <button\r\n                    onClick={() => handleAuthClick() }\r\n                    className={classes.signInBtn}\r\n                >\r\n                    Sign in with Google\r\n                </button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n};\r\n\r\nexport default withStyles(styles)(AuthForm);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport ProfileContainer from './ProfileContainer';\r\nimport RestaurantListContainer from './RestaurantListContainer';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MapContainer from './MapContainer';\r\nimport { Switch, Route, Link } from 'react-router-dom';\r\nimport { authSignedOut } from \"../actions/user\";\r\nimport { triggerGoogleLoaded } from '../thunks/user';\r\nimport { scriptUploadError } from \"../actions/map-restaurants\";\r\nimport { triggerMapLoaded } from '../thunks/map-restaurants';\r\nimport { withRouter }  from 'react-router';\r\nimport { loadAuthDataFromStorage, authSignedIn } from \"../actions/user\";\r\nimport AuthForm from \"../components/AuthForm\";\r\n\r\nconst styles = theme => ({\r\n    app: {\r\n        height: '100%',\r\n        overflowY: 'hidden',\r\n    },\r\n    shadowMaker: {\r\n        display: 'none',\r\n    },\r\n    topMenu: {\r\n        margin: '0 auto',\r\n        width: '100%',\r\n        height: '40px',\r\n        boxShadow: '0px -1px 20px 0px #212114bd',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: theme.palette.primary.main,\r\n    },\r\n    menuBtn: {\r\n        width: '40px',\r\n        height: '40px',\r\n        backgroundSize: '100%',\r\n        display: 'none',\r\n        cursor: 'pointer',\r\n        background: 'url(\"/img/menu-icon.png\")',\r\n    },\r\n    link: {\r\n        textDecoration: 'none',\r\n        border: '1px solid #721d82',\r\n        padding: '8px 20px',\r\n        color: '#f5f6fa',\r\n        fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif;',\r\n        transition: 'background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\r\n        verticalAlign: 'middle',\r\n        '&:focus': {\r\n            color: '#141414',\r\n            backgroundColor: theme.palette.primary.light,\r\n            outline: 'none',\r\n        },\r\n        '&:active': {\r\n            color: '#f5f6fa',\r\n        },\r\n        '&:hover': {\r\n            color: '#141414',\r\n            backgroundColor: theme.palette.primary.light,\r\n        },\r\n        '&:first-child':{\r\n            borderBottomLeftRadius: '7px',\r\n            borderTopLeftRadius: '7px',\r\n        },\r\n        '&:last-child':{\r\n            borderBottomRightRadius: '7px',\r\n            borderTopRightRadius: '7px',\r\n        }\r\n    },\r\n    activeLink: {\r\n        backgroundColor: theme.palette.secondary.main,\r\n        '&:focus':{\r\n            color: '#f5f6fa',\r\n            backgroundColor: theme.palette.secondary.main,\r\n            boxShadow: 'inset 0 0 13px 0px #2c12386e',\r\n        },\r\n    },\r\n    relocateText: {\r\n        margin: '10px auto',\r\n        width: 'max-content',\r\n    },\r\n    '@media (max-width: 450px)': {\r\n        app: {\r\n            top: '40px',\r\n            height: 'calc(100% - 40px)',\r\n            position: 'relative',\r\n        },\r\n        menuBtn: {\r\n          display: 'block',\r\n          position: 'absolute',\r\n            zIndex: '4',\r\n            transition: 'box-shadow 0.2s ease-out',\r\n            '&:hover': {\r\n              boxShadow: 'inset 0 0 16px 0px #2920206b',\r\n            }\r\n        },\r\n        shadowMaker: {\r\n            position: 'absolute',\r\n            height: 'calc(100vh - 40px)',\r\n            width: '100vw',\r\n            zIndex: '2',\r\n            opacity: '0',\r\n            left: '0',\r\n            top: '0',\r\n            display: 'block',\r\n            visibility: 'hidden',\r\n            transition: 'opacity 0.5s cubic-bezier(0.4, 0, 1, 1), visibility 0.5s ease ',\r\n            background: '#1f1f1cdb',\r\n        },\r\n        topMenu: {\r\n            flexDirection: 'column',\r\n            textAlign: 'center',\r\n            position: 'fixed',\r\n            top: '0',\r\n            left: '0',\r\n            zIndex: '3',\r\n            alignItems: 'flex-start',\r\n            '& > * > *':{\r\n                width: '100%',\r\n            },\r\n        },\r\n        linkWrapper: {\r\n            minHeight: '100vh',\r\n            left: '-220px',\r\n            top: '0',\r\n            position: 'fixed',\r\n            display: 'flex',\r\n            zIndex: '5',\r\n            flexDirection: 'column',\r\n            transition: 'left 0.5s cubic-bezier(0.4, 0, 1, 1)',\r\n            background: '#e8e8e8',\r\n        },\r\n        link: {\r\n            boxSizing: 'border-box',\r\n            width: '100%',\r\n            padding: '15px',\r\n            marginTop: '13px',\r\n            borderRadius: '0',\r\n            border: '0',\r\n            position: 'relative',\r\n            color: 'black',\r\n            fontWeight: '600',\r\n            fontSize: '27px',\r\n            '&:hover':{\r\n                backgroundColor: '#8c13e821',\r\n            },\r\n            '&:focus':{\r\n                backgroundColor: '#ac00f966',\r\n                color: 'inherit',\r\n                boxShadow: 'none',\r\n            },\r\n            '&:active':{\r\n                color: 'black',\r\n            },\r\n            '&:first-child': {\r\n                borderTopLeftRadius: '0',\r\n                borderBottomLeftRadius: '0',\r\n            },\r\n            '&:last-child':{\r\n                borderTopRightRadius: '0',\r\n                borderBottomRightRadius: '0',\r\n            },\r\n        },\r\n        activeLink: {\r\n          backgroundColor: '#ac00f966',\r\n        },\r\n        toggledLink: {\r\n            extend: 'link',\r\n            visibility: 'visible',\r\n            opacity: '1',\r\n        }\r\n    }\r\n});\r\n\r\nclass App extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            menuToggled: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.checkAuthFromStorage();\r\n        this.attachAuthScript();\r\n        this.attachMapScripts();\r\n    };\r\n\r\n    //load Google's JS lib and let user authenticate\r\n    attachAuthScript = () => {\r\n        const s = document.createElement('script');\r\n        s.src = \"https://apis.google.com/js/api.js\";\r\n        s.defer = true;\r\n        s.onload = () => {\r\n            this.props.triggerGoogleLoaded();\r\n        };\r\n        s.onerror = () => scriptUploadError();\r\n        document.head.appendChild(s);\r\n    };\r\n\r\n    //load Google Maps API Library\r\n    attachMapScripts = () => {\r\n        const s = document.createElement('script');\r\n        s.src = \"https://maps.googleapis.com/maps/api/js?key=AIzaSyBc0yLsAhKiyU2Cys9LVy0N4yA_t7AqF5E&libraries=places\";\r\n        s.defer = true;\r\n        s.onload = () => {\r\n            this.props.triggerMapLoaded();\r\n        };\r\n        s.onerror = () => scriptUploadError();\r\n        document.head.appendChild(s);\r\n    };\r\n\r\n    checkAuthFromStorage = () => {\r\n        const storageProfile = loadAuthDataFromStorage();\r\n        if (storageProfile){\r\n            this.props.authSignIn(storageProfile);\r\n        }else{\r\n            this.props.authSignOut();\r\n        }\r\n    };\r\n\r\n    //render components of app by their url\r\n    renderByUrl = () => {\r\n        return (\r\n            <Switch>\r\n                <Route exact\r\n                       path='/'\r\n                       render={() => (\r\n                           <ProfileContainer/>\r\n                       )}\r\n                />\r\n                <Route exact\r\n                       path='/list'\r\n                       render={() => (\r\n                           <RestaurantListContainer/>\r\n                       )}\r\n                />\r\n                <Route exact\r\n                       path='/map'\r\n                       render={() => (\r\n                           <MapContainer/>\r\n                       )}\r\n                />\r\n\r\n                {/*If wrong url*/}\r\n                <Route render={() => (\r\n                    <div>\r\n                        <Typography\r\n                            className={this.props.classes.relocateText}\r\n                            variant='h4'\r\n                        >\r\n                            Sorry, it's wrong URL\r\n                        </Typography>\r\n                        <Typography\r\n                            className={this.props.classes.relocateText}\r\n                            variant='h4'\r\n                        >\r\n                            You can navigate to\r\n                            <Link\r\n                                to='/list'\r\n                                style={{textDecoration: 'none'}}\r\n                            >\r\n                                <Button\r\n                                    color=\"primary\"\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    Restaurants\r\n                                </Button>\r\n                            </Link>\r\n                             page\r\n                        </Typography>\r\n                    </div>\r\n                )}/>\r\n            </Switch>\r\n        )\r\n    };\r\n\r\n    //render form for authentication\r\n    renderAuthForm() {\r\n        const { auth } = this.props;\r\n        if(auth.initialized && !auth.fullName){\r\n            return (<AuthForm/>)\r\n        }\r\n    }\r\n\r\n    //handler for mobile menu btn click\r\n    onMenuBtnClick = () => {\r\n        const { link, toggledLink, linkWrapper, shadowMaker } = this.props.classes;\r\n        const linkWrapperElem = document.getElementsByClassName(linkWrapper)[0];\r\n        const shadowMakerElem = document.getElementsByClassName(shadowMaker)[0];\r\n\r\n        const makeVisible = () => {\r\n            linkWrapperElem.style.left = '0';\r\n            shadowMakerElem.style.opacity = '0.5';\r\n            shadowMakerElem.style.left = '0';\r\n            shadowMakerElem.style.top = '0';\r\n            shadowMakerElem.style.visibility = 'visible';\r\n        };\r\n\r\n        const makeInvisible = () => {\r\n            linkWrapperElem.style.left = '-220px';\r\n            shadowMakerElem.style.opacity = '0';\r\n            shadowMakerElem.style.visibility = 'hidden';\r\n        };\r\n\r\n        if (!this.state.menuToggled){\r\n            //show menu\r\n            Array.from(document.getElementsByClassName(link)).forEach(a => {\r\n                a.className += ' '+toggledLink;\r\n                a.onclick = () => {\r\n                    this.setState({menuToggled: false}, () => {\r\n                        makeInvisible();\r\n                        a.onclick = null;\r\n                    })\r\n                };\r\n            });\r\n            makeVisible();\r\n            shadowMakerElem.onclick = () => this.setState({menuToggled: false}, () => makeInvisible());\r\n            this.setState({menuToggled: true});\r\n        }else{\r\n            //hide menu\r\n            Array.from(document.getElementsByClassName(link)).forEach(a => {\r\n                let container = \"\";\r\n                a.className.split(\" \").forEach(cName => cName === toggledLink ? \"\" : container = container.concat(cName+\" \"));\r\n                a.className = container;\r\n                a.onclick = null;\r\n            });\r\n            shadowMakerElem.onclick = null;\r\n            makeInvisible();\r\n            this.setState({menuToggled: false});\r\n        }\r\n    };\r\n\r\n    render(){\r\n        const { classes } = this.props;\r\n        const pathName = this.props.location.pathname;\r\n        return(\r\n            <div className={classes.app}>\r\n                <div className={classes.topMenu}>\r\n                    <div className={classes.menuBtn} onClick={this.onMenuBtnClick}/>\r\n                    <div className={classes.linkWrapper}>\r\n                        <Link className={`${classes.link} ${pathName === '/' ? classes.activeLink : ''}`} to='/'>Profile</Link>\r\n                        <Link className={`${classes.link} ${pathName === '/list' ? classes.activeLink : ''}`} to='/list'>Restaurants</Link>\r\n                        <Link className={`${classes.link} ${pathName === '/map' ? classes.activeLink : ''}`} to='/map'>Map</Link>\r\n                    </div>\r\n                </div>\r\n                <div className={classes.shadowMaker}/>\r\n                 {this.renderByUrl()}\r\n                {this.renderAuthForm()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = store => {\r\n    return {\r\n        auth: store.auth,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        triggerGoogleLoaded: () => dispatch(triggerGoogleLoaded()),\r\n        triggerMapLoaded: () => dispatch(triggerMapLoaded()),\r\n        authSignIn: (profile) => dispatch(authSignedIn(profile)),\r\n        authSignOut: () => dispatch(authSignedOut()),\r\n    }\r\n};\r\n\r\nexport default withRouter(\r\n    withStyles(styles)(\r\n        connect(\r\n            mapStateToProps,\r\n            mapDispatchToProps\r\n        )(App)\r\n    )\r\n);\r\n","import {\r\n    GET_RESTAURANTS_REQUEST,\r\n    GET_RESTAURANTS_ERROR,\r\n    GET_RESTAURANTS_SUCCESS\r\n} from '../action-types/map-restaurants';\r\n\r\nconst defaultState = {\r\n    isFetching: false,\r\n    error: '',\r\n    items: [],\r\n};\r\n\r\nexport default function restaurants(state = defaultState, action) {\r\n    switch (action.type) {\r\n        case GET_RESTAURANTS_REQUEST:\r\n            return {\r\n                ...state,\r\n                isFetching: true,\r\n                error: '',\r\n            };\r\n        case GET_RESTAURANTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                isFetching: false,\r\n                error: '',\r\n                items: [...state.items, ...action.restaurants],\r\n            };\r\n        case GET_RESTAURANTS_ERROR:\r\n            return state;\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import {\r\n    MAP_INITIALIZED,\r\n    MAP_NEEDS_GEOLOCATION,\r\n    MAP_CHANGE_CENTER\r\n} from '../action-types/map-restaurants';\r\n\r\nconst defaultState = {\r\n    error: '',\r\n    initialized: false,\r\n    needsGeolocation: false,\r\n    center: null,\r\n};\r\n\r\nexport default function map(state = defaultState, action) {\r\n    switch (action.type) {\r\n        case MAP_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        case MAP_NEEDS_GEOLOCATION:\r\n            return {\r\n                ...state,\r\n                needsGeolocation: true,\r\n            };\r\n        case MAP_CHANGE_CENTER:\r\n            return {\r\n                ...state,\r\n                needsGeolocation: false,\r\n                center: {\r\n                    lat: action.center.lat,\r\n                    lng: action.center.lng,\r\n                },\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import {\r\n    AUTH_SIGNED_IN,\r\n    AUTH_SIGNED_OUT,\r\n    AUTH_INITIALIZED\r\n} from '../action-types/user'\r\n\r\nimport {\r\n    SCRIPT_UPLOAD_ERROR\r\n} from \"../action-types/map-restaurants\";\r\n\r\nconst defaultState = {\r\n    error: '',\r\n    initialized: false,\r\n    name: '',\r\n    familyName: '',\r\n    fullName: '',\r\n    imageUrl: '',\r\n    email: '',\r\n};\r\n\r\nexport default function auth(state = defaultState, action) {\r\n    switch (action.type) {\r\n        case AUTH_INITIALIZED:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        case AUTH_SIGNED_IN: {\r\n            const {\r\n                name,\r\n                familyName,\r\n                fullName,\r\n                imageUrl,\r\n                email,\r\n            } = action.user;\r\n            return {\r\n                ...state,\r\n                error: '',\r\n                name: name,\r\n                familyName: familyName,\r\n                fullName: fullName,\r\n                imageUrl: imageUrl,\r\n                email: email,\r\n                isSignedIn: true,\r\n            }\r\n        }\r\n        case AUTH_SIGNED_OUT:\r\n            return {\r\n                ...defaultState,\r\n                initialized: state.initialized,\r\n            };\r\n        case SCRIPT_UPLOAD_ERROR:\r\n            return {\r\n                ...defaultState,\r\n                initialized: state.initialized,\r\n                error: SCRIPT_UPLOAD_ERROR,\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport restaurants from './restaurants'\r\nimport map from './map';\r\nimport auth from './auth'\r\n\r\nexport default combineReducers({\r\n    auth,\r\n    restaurants,\r\n    map\r\n})","import { createStore, applyMiddleware } from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { createLogger } from 'redux-logger'\r\nimport rootReducer from '../reducers/index'\r\n\r\nconst loggerMiddleware = createLogger();\r\n\r\nexport default function configureStore(preloadedState) {\r\n    return createStore(\r\n        rootReducer,\r\n        preloadedState,\r\n        applyMiddleware(thunkMiddleware, loggerMiddleware)\r\n    )\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './containers/App';\r\nimport { Provider } from 'react-redux'\r\nimport { BrowserRouter as Router} from 'react-router-dom';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport configureStore from './store/store';\r\n\r\nimport './index.css';\r\n\r\nconst store = configureStore();\r\n\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: { main: '#9c28b1', light: '#e1bee8' },\r\n        secondary: { main: '#7920a2' },\r\n    },\r\n    typography: { useNextVariants: true },\r\n});\r\n\r\nReactDOM.render(\r\n    <MuiThemeProvider theme={theme}>\r\n        <Router>\r\n            <Provider store={store}>\r\n                <App/>\r\n            </Provider>\r\n        </Router>\r\n    </MuiThemeProvider>\r\n, document.getElementById('root'));"],"sourceRoot":""}