(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,t,a){e.exports=a(308)},306:function(e,t,a){},308:function(e,t,a){"use strict";a.r(t);var n,r,o=a(0),i=a.n(o),l=a(27),c=a.n(l),s=a(19),p=a(24),u=a(21),m=a(20),d=a(22),f=a(25),g=a(3),h=a(10),b="AUTH_SIGNED_IN",v="AUTH_SIGNED_OUT",y="AUTH_INITIALIZED",w=function(){return JSON.parse(localStorage.getItem("auth_date"))},x=function(e){var t;return t=e,localStorage.setItem("auth_date",JSON.stringify(t)),{type:b,user:e}},k=function(){return localStorage.removeItem("auth_date"),{type:v}},E=function(){try{n&&(n.isSignedIn.get()?n.disconnect():n.signIn())}catch(e){console.warn("auth error:")||console.warn(e)}},C=function(e){return function(){var t=n.currentUser.get();if(t.hasGrantedScopes("profile email")){var a=t.getBasicProfile(),r={name:a.getGivenName(),familyName:a.getFamilyName(),fullName:a.getName(),imageUrl:a.getImageUrl(),email:a.getEmail()};e(x(r))}else e(k())}},N=function(){return function(e){e({type:y}),window.gapi.load("client:auth2",function(e){return function(){window.gapi.client.init({apiKey:"AIzaSyBc0yLsAhKiyU2Cys9LVy0N4yA_t7AqF5E",discoveryDocs:[],clientId:"250951134431-44ianb9v3ks5gf368fsk6ppn3f3o2p85.apps.googleusercontent.com",scope:"profile email"}).then(function(){(n=window.gapi.auth2.getAuthInstance()).isSignedIn.listen(C(e))})}}(e))}},S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).renderAnonymous=function(){var e=a.props.classes;return i.a.createElement("div",{className:e.profile},i.a.createElement("div",{className:e.about},i.a.createElement("div",{className:e["user-info"]},i.a.createElement(g.k,{className:e.anonymous},"Anonymous"))))},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.props.auth,a=t.imageUrl,n=t.fullName,r=t.email,o=t.initialized;return""===n?this.renderAnonymous():i.a.createElement("div",{className:e.profile},i.a.createElement("div",{className:e.about},i.a.createElement("div",{className:e.avatar,style:{backgroundImage:'url("'.concat(a,'")')}}),i.a.createElement("div",{className:e["user-info"]},i.a.createElement(g.k,{className:e.username,variant:"h3"},n),i.a.createElement(g.k,{className:e.email,variant:"h4"},"Your email: ",r))),i.a.createElement(g.a,{className:e.leaveBtn,onClick:o?function(){return E()}:function(){return!1}},"Leave"))}}]),t}(i.a.PureComponent),O=Object(h.withStyles)(function(e){return{profile:{width:"100%",maxWidth:"1000px",margin:"20px auto",display:"flex",flexDirection:"column",alignItems:"center"},about:{display:"flex"},avatar:{width:"100px",height:"100px",borderRadius:"100px",marginRight:"25px"},anonymous:{fontSize:"4rem"},"user-info":{display:"flex",flexDirection:"column",justifyContent:"space-around",width:"calc(100% - 100px)"},leaveBtn:{top:"27px",padding:"10px",color:"white",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:e.palette.primary.main,"&:hover":{color:"#141414",backgroundColor:e.palette.primary.light}},authBtn:{extends:"leaveBtn"},"@media (max-width: 600px)":{about:{flexDirection:"column",alignItems:"center",textAlign:"center"},"user-info":{width:"100%","& > *":{fontSize:"2rem"}},email:{wordBreak:"break-all"}},"@media (max-width: 450px)":{profile:{position:"relative",top:"25px"}}}})(S),T=Object(f.b)(function(e){return{auth:e.auth}})(O),j=a(310),I="GET_RESTAURANTS_REQUEST",z="GET_RESTAURANTS_SUCCESS",A="GET_RESTAURANTS_ERROR",B="SCRIPT_UPLOAD_ERROR",R="MAP_INITIALIZED",L="MAP_NEEDS_GEOLOCATION",D="MAP_CHANGE_CENTER",_=function(){return{type:B}},M={style:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#1e1e1e"}]},{featureType:"administrative",elementType:"labels.text.stroke",stylers:[{color:"#dadada"}]},{featureType:"landscape",stylers:[{color:"#616161"},{lightness:-10}]},{featureType:"landscape.natural",elementType:"labels.text.fill",stylers:[{color:"#5e2435"}]},{featureType:"landscape.natural",elementType:"labels.text.stroke",stylers:[{color:"#e3e8f9"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#781fda"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#c9bac2"},{weight:2.5}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{weight:.5}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"#ffff88"},{weight:.5}]},{featureType:"road.local",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#737373"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#e4c6fd"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#2b044a"},{weight:2}]},{featureType:"administrative.land_parcel",stylers:[{visibility:"off"}]}]},G=function(){return function(e){e({type:R});navigator.geolocation.getCurrentPosition(U(e),F(e),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}},U=function(e){return function(t){var a=t.coords;W(a.latitude,a.longitude,e)}},F=function(e){return function(){e({type:L})}},W=function(e,t,a){var n={lat:e,lng:t},r=new window.window.google.maps.Map(document.getElementById("map-invis"),{center:n,zoom:8});new window.google.maps.places.PlacesService(r).nearbySearch({location:n,radius:5e3,type:["restaurant"]},P(a))},P=function(e){return function(t,a,n){e({type:I}),a===window.google.maps.places.PlacesServiceStatus.OK?e({type:z,restaurants:t}):e({type:A,error:"get restaurants error"})}},H=function(e,t){new window.google.maps.places.PlacesService(new window.google.maps.Map(document.getElementById("map-invis"),{center:{lat:0,lng:0},zoom:8})).getDetails({placeId:e},function(e,a){a===window.google.maps.places.PlacesServiceStatus.OK&&t({reviews:e.reviews,phoneNum:e.international_phone_number})})},Y=function(e,t){var a=new window.google.maps.Map(document.getElementById(e),{center:t,zoom:8});return a.setOptions({styles:M.style}),a},K=function(e,t,a){for(var n,r=new window.google.maps.LatLngBounds,o=function(n,o){var i={url:"/img/noun_Restaurant_368075.png",size:new window.google.maps.Size(71,71),origin:new window.google.maps.Point(0,0),anchor:new window.google.maps.Point(17,34),scaledSize:new window.google.maps.Size(45,45)},l=new window.google.maps.Marker({map:t,icon:i,title:o.name,reference:o.reference,position:o.geometry.location});l.addListener("click",function(){a(e.find(function(e){return l.reference===e.reference}))}),r.extend(o.geometry.location)},i=0;n=e[i];i++)o(0,n);t.fitBounds(r)},J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.props.open&&H(a.props.placeId,function(e){a.setState({additionalInfo:e})})},a.componentDidUpdate=function(e){!e.open&&a.props.open&&H(a.props.placeId,function(e){a.setState({additionalInfo:e})})},a.renderPhoneNum=function(){if(a.state.additionalInfo&&a.state.additionalInfo.phoneNum)return i.a.createElement(g.g,{className:"".concat(a.props.classes.dialogContent," ").concat(a.props.classes.phoneNum)},i.a.createElement(g.k,{variant:"h6"},a.state.additionalInfo.phoneNum))},a.renderReviews=function(){if(a.state.additionalInfo&&a.state.additionalInfo.reviews){var e=a.props.classes;return i.a.createElement(g.g,{className:"".concat(e.dialogContent," ").concat(e.reviews)},a.state.additionalInfo.reviews.map(function(t,a){return i.a.createElement("div",{className:e.review,key:a},i.a.createElement("div",{className:e.reviewLeft},i.a.createElement("div",{className:e.avatar,style:{backgroundImage:'url("'.concat(t.profile_photo_url,'")')}}),i.a.createElement(g.k,{variant:"h6"},t.author_name),i.a.createElement(g.k,{className:e.timeAgo,variant:"h6"},t.relative_time_description),i.a.createElement("div",{className:e.starsOuter},i.a.createElement("div",{style:{width:"".concat(t.rating?t.rating.toFixed(1)/5*100:0,"%")},className:e.starsInner}))),i.a.createElement("div",{className:e.reviewRight},i.a.createElement(g.k,{variant:"h6",className:e.reviewText},t.text)))}))}},a.state={additionalInfo:null},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.handleClose,r=e.title,o=e.openClosed,l=e.rating,c=e.vicinity;return i.a.createElement(g.e,{className:t.dialog,open:a,onClose:n},i.a.createElement("div",{className:t.scrollWrapper},i.a.createElement(g.i,{className:t.title},r),i.a.createElement(g.g,{className:"".concat(t.dialogContent," ").concat(t.openClosed)},i.a.createElement(g.k,{variant:"h5"},o)),i.a.createElement(g.g,{className:"".concat(t.dialogContent," ").concat(t.vicinity)},i.a.createElement(g.k,{variant:"h5"},c)),i.a.createElement(g.g,{className:"".concat(t.dialogContent," ").concat(t.starsContent)},i.a.createElement("div",{className:t.starsOuter},i.a.createElement("div",{style:{width:"".concat(l?l.toFixed(1)/5*100:0,"%")},className:t.starsInner}))),this.renderPhoneNum(),this.renderReviews(),i.a.createElement(g.f,null,i.a.createElement(g.a,{className:t.leaveBtn,onClick:n},"Leave"))))}}]),t}(i.a.Component),V=Object(h.withStyles)(function(e){return{dialog:{"& > * > div":{overflowX:"hidden",textAlign:"center"}},scrollWrapper:{overflowY:"scroll",overflowX:"hidden"},dialogContent:{overflowY:"initial",width:"max-content",wordBreak:"break-all"},title:{alignSelf:"center","& > *":{fontSize:"3rem"}},openClosed:{width:"calc(100% - 32px)"},vicinity:{width:"calc(100% - 32px)","& > *":{wordBreak:"break-word"}},phoneNum:{marginLeft:"auto"},starsContent:{margin:"0 auto"},starsOuter:{display:"inline-block",position:"relative",fontFamily:"FontAwesome",fontSize:"16px",borderCollapse:"collapse","&::before":{content:'"\\f006 \\f006 \\f006 \\f006 \\f006"'}},starsInner:{position:"absolute",top:0,left:0,whiteSpace:"nowrap",overflow:"hidden",width:0,"&::before":{content:'"\\f005 \\f005 \\f005 \\f005 \\f005"',color:"#f8ce0b"}},review:{display:"flex","& + &":{marginTop:"20px"}},reviews:{width:"calc(100% - 32px)","& > *":{wordBreak:"break-all"}},reviewLeft:{width:"30%",display:"flex",alignItems:"center",marginRight:"15px",textAlign:"center",flexDirection:"column","& > h6":{width:"100%",wordBreak:"break-word"}},avatar:{width:"80px",height:"80px",alignSelf:"center",backgroundSize:"contain"},timeAgo:{wordBreak:"break-word"},reviewRight:{width:"70%",textAlign:"left"},reviewText:{wordBreak:"break-word"},leaveBtn:{width:"max-content",margin:"0 auto",color:"white",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:e.palette.primary.main,"&:hover":{color:"#141414",backgroundColor:e.palette.primary.light}},"@media (max-width: 550px)":{dialog:{"& > * > div":{margin:"10px"}},title:{width:"calc(100% - 32px)",wordBreak:"break-all"},review:{flexDirection:"column","& + &":{marginTop:"15px"}},reviewLeft:{width:"100%"},reviewRight:{width:"100%"}}}})(J),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).openClosed="",a.handleDialogClose=function(){return a.setState({isDialogOpen:!1})},a.handleDialogOpen=function(){return a.setState({isDialogOpen:!0})},a.renderWorkingStatus=function(e){if(e.opening_hours)return e.opening_hours.open_now?(a.openClosed="Open",i.a.createElement(g.k,{variant:"h5"},"Open")):(a.openClosed="Closed",i.a.createElement(g.k,{variant:"h5"},"Closed"))},a.state={isDialogOpen:!1},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.restaurant,n=t.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{rating:a.rating,title:a.name,handleClose:function(){return e.handleDialogClose()},open:this.state.isDialogOpen,openClosed:this.openClosed,vicinity:a.vicinity,placeId:a.place_id}),i.a.createElement(g.b,{onClick:function(){return e.handleDialogOpen()},className:n.restaurant},i.a.createElement(g.d,{className:n.title,title:a.name}),i.a.createElement(g.c,null,i.a.createElement(g.k,{variant:"h5"},a.vicinity)),i.a.createElement(g.c,{className:n.starsContent},i.a.createElement("div",{className:n.starsOuter},i.a.createElement("div",{style:{width:"".concat(a.rating?a.rating.toFixed(1)/5*100:0,"%")},className:n.starsInner})),this.renderWorkingStatus(a))))}}]),t}(i.a.Component),X=Object(h.withStyles)({restaurant:{margin:"30px 10px",width:"90%",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",boxShadow:"0 0 5px 0.2px #bdbdbd",textAlign:"center",cursor:"pointer",padding:"5px","& > *":{width:"100%"},"&:hover":{boxShadow:"0px 0px 6px 0px #1b18189e"}},title:{"& > * > *":{fontWeight:"400",fontSize:"2rem"}},starsOuter:{display:"inline-block",position:"relative",fontFamily:"FontAwesome",fontSize:"16px",borderCollapse:"collapse","&::before":{content:'"\\f006 \\f006 \\f006 \\f006 \\f006"'}},starsInner:{position:"absolute",top:0,left:0,whiteSpace:"nowrap",overflow:"hidden",width:0,"&::before":{content:'"\\f005 \\f005 \\f005 \\f005 \\f005"',color:"#f8ce0b"}},"@media (max-width: 450px)":{restaurant:{margin:"30px auto"}}})(q),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.classes.listComponent;document.getElementsByClassName(e)[0].onscroll=function(){document.getElementsByClassName(e)[0].scrollTop>1?a.setState({displayScrollBtn:"block"}):a.setState({displayScrollBtn:"none"})}},a.componentWillUnmount=function(){document.getElementsByClassName(a.props.classes.listComponent)[0].onscroll=null},a.renderList=function(){var e=a.props,t=e.classes,n=e.restaurants,r=e.needsGeolocation;if(n.items)return r?i.a.createElement("div",{className:t.relocateContainer},i.a.createElement(g.k,{variant:"h4"},"You need to select place in which you are located."),i.a.createElement(j.a,{className:t.relocateMessage,to:"map"},i.a.createElement(g.j,{className:t.relocateBtn},"Go"))):n.items.map(function(e){return i.a.createElement(X,{key:e.id,restaurant:e})})},a.renderLoading=function(){if(a.props.restaurants.isFetching)return i.a.createElement(g.k,{className:a.props.classes.loadingMessage,variant:"h3"},"...loading")},a.state={displayScrollBtn:"none"},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.listComponent},i.a.createElement(g.j,{style:{display:this.state.displayScrollBtn},className:e.upwardsArrow,onClick:function(){return document.getElementsByClassName(e.listComponent)[0].scrollTo(0,0)}},"\u2191"),i.a.createElement(g.k,{className:e.header,variant:"h2"},"Restaurant list"),i.a.createElement("div",{className:e.list},this.renderList()),this.renderLoading())}}]),t}(i.a.Component),Q=Object(h.withStyles)(function(e){return{listComponent:{height:"calc(100% - 40px)",scrollBehavior:"smooth",overflowY:"auto"},list:{width:"90%",maxWidth:"800px",marginTop:"10px",margin:"30px auto",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"1fr"},upwardsArrow:{position:"fixed",right:"20px",bottom:"40px",fontSize:"28px",zIndex:"2","& > *:first-child":{position:"relative",color:"white",top:"-3px"},transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.light,"& > *:first-child":{color:"#141414"}}},header:{textAlign:"center",marginTop:"15px",fontWeight:"300"},loadingMessage:{margin:"20px auto",width:"max-content"},relocateContainer:{margin:"20px auto",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center",width:"200%"},relocateMessage:{marginTop:"15px",textDecoration:"none"},relocateBtn:{transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:e.palette.primary.main,"& > *:first-child":{position:"relative",color:"white"},"&:hover":{backgroundColor:e.palette.primary.light,"& > *:first-child":{color:"#141414"}}},"@media (max-width: 650px)":{header:{fontSize:"3rem"},list:{gridTemplateColumns:"1fr",gridTemplateRows:"1fr",maxWidth:"430px"},relocateContainer:{width:"100%"}},"@media (max-width: 450px)":{listComponent:{height:"100%"},header:{position:"relative",marginTop:"0",top:"25px"},list:{position:"relative",top:"30px"}}}})(Z),$=Object(f.b)(function(e){return{restaurants:e.restaurants,needsGeolocation:e.map.needsGeolocation}})(Q),ee=a(26),te="MAP_ID",ae="openLocation",ne="openRestaurantInfo",re=function(e){function t(e){var a,n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).callback=function(e){var t;n.setState((t={},Object(ee.a)(t,ne,!0),Object(ee.a)(t,"restaurantInfoData",e),t))},n.handleClose=function(e){n.setState(Object(ee.a)({},e,!1))},n.renderRestaurantInfo=function(){if(n.state[ne]){var e=n.state.restaurantInfoData,t=e.vicinity,a=e.name,r=e.rating,o=e.place_id,l="";return e.opening_hours&&(l=e.opening_hours.open_now?"Open":"Closed"),i.a.createElement(V,{vicinity:t,openClosed:l,open:n.state[ne],handleClose:function(){return n.handleClose(ne)},title:a,rating:r,placeId:o})}},n.renderLocationDialog=function(){if(n.state[ae]&&n.props.map.needsGeolocation)return i.a.createElement("div",null,i.a.createElement(g.e,{open:n.state[ae],onClose:function(){return n.handleClose(ae)}},i.a.createElement(g.i,null,"Choose your location"),i.a.createElement(g.g,null,i.a.createElement(g.h,null,"Please click on the location where you want to find restaurants.")),i.a.createElement(g.f,null,i.a.createElement(g.a,{onClick:function(){return n.handleClose(ae)},variant:"outlined",color:"primary"},"Got it"))))},n.loadMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{lat:59,lng:30},t=e.lat,a=e.lng;r=Y(te,{lat:t,lng:a})},n.componentDidMount=function(){n.props.map.initialized&&(n.loadMap(),n.props.map.needsGeolocation?n.props.setNewCenterByClick(r):K(n.props.rests.items,r,n.callback))},n.componentDidUpdate=function(e){!e.map.initialized&&n.props.map.initialized&&n.loadMap(),n.props.map.needsGeolocation&&e.map.needsGeolocation!==n.props.map.needsGeolocation&&n.props.setNewCenterByClick(r),e.rests.items.length!==n.props.rests.items.length&&r&&K(n.props.rests.items,r,n.callback)},n.render=function(){var e=n.props.classes;return i.a.createElement("div",{className:e.mapWrapper},n.renderRestaurantInfo(),n.renderLocationDialog(),i.a.createElement("div",{className:e.map,id:te}))},n.state=(a={},Object(ee.a)(a,ae,!0),Object(ee.a)(a,ne,!1),Object(ee.a)(a,"restaurantInfoData",{vicinity:"",title:"",rating:"",placeId:""}),a),n}return Object(d.a)(t,e),t}(i.a.Component),oe=Object(h.withStyles)({mapWrapper:{width:"100%",height:"calc(100% - 40px)"},map:{width:"100%",height:"100%"},"@media (max-width: 450px)":{mapWrapper:{position:"relative",height:"100%"}}})(re),ie={setNewCenterByClick:function(e){return function(t){window.google.maps.event.addListener(e,"click",function(a){var n=a.latLng.lat(),r=a.latLng.lng();t(function(e,t){return{type:D,center:{lat:e,lng:t}}}(n,r)),W(n,r,t),window.google.maps.event.clearListeners(e,"click")})}}},le=Object(f.b)(function(e){return{map:e.map,rests:e.restaurants}},ie)(oe),ce=a(313),se=a(303),pe=a(305),ue=a(311),me=Object(h.withStyles)(function(e){return{authDialog:{"& > div:first-child":{background:"rgba(0, 0, 0, 0.8)"},"& > div > div":{maxWidth:"400px",maxHeight:"400px",width:"max-content",height:"max-content"}},signInBtn:{color:"white",transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:e.palette.primary.main,border:"none",cursor:"pointer",padding:"15px",borderRadius:"5px",fontSize:"21px",margin:"10% auto 20% auto","&:hover":{color:"#141414",backgroundColor:e.palette.primary.light}}}})(function(e){var t=e.classes;return i.a.createElement(g.e,{className:t.authDialog,open:!0},i.a.createElement(g.i,null,"Please sign-in to use this app "),i.a.createElement(g.f,null,i.a.createElement("button",{onClick:function(){return E()},className:t.signInBtn},"Sign in with Google")))}),de=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).componentDidMount=function(){a.checkAuthFromStorage(),a.attachAuthScript(),a.attachMapScripts()},a.attachAuthScript=function(){var e=document.createElement("script");e.src="https://apis.google.com/js/api.js",e.defer=!0,e.onload=function(){a.props.triggerGoogleLoaded()},e.onerror=function(){return _()},document.head.appendChild(e)},a.attachMapScripts=function(){var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBc0yLsAhKiyU2Cys9LVy0N4yA_t7AqF5E&libraries=places",e.defer=!0,e.onload=function(){a.props.triggerMapLoaded()},e.onerror=function(){return _()},document.head.appendChild(e)},a.checkAuthFromStorage=function(){var e=w();e?a.props.authSignIn(e):a.props.authSignOut()},a.renderByUrl=function(){return i.a.createElement(ce.a,null,i.a.createElement(se.a,{exact:!0,path:"/",render:function(){return i.a.createElement(T,null)}}),i.a.createElement(se.a,{exact:!0,path:"/list",render:function(){return i.a.createElement($,null)}}),i.a.createElement(se.a,{exact:!0,path:"/map",render:function(){return i.a.createElement(le,null)}}),i.a.createElement(se.a,{render:function(){return i.a.createElement("div",null,i.a.createElement(g.k,{className:a.props.classes.relocateText,variant:"h4"},"Sorry, it's wrong URL"),i.a.createElement(g.k,{className:a.props.classes.relocateText,variant:"h4"},"You can navigate to",i.a.createElement(pe.a,{to:"/list",style:{textDecoration:"none"}},i.a.createElement(g.a,{color:"primary",variant:"outlined"},"Restaurants")),"page"))}}))},a.onMenuBtnClick=function(){var e=a.props.classes,t=e.link,n=e.toggledLink,r=e.linkWrapper,o=e.shadowMaker,i=document.getElementsByClassName(r)[0],l=document.getElementsByClassName(o)[0],c=function(){i.style.left="-220px",l.style.opacity="0",l.style.visibility="hidden"};a.state.menuToggled?(Array.from(document.getElementsByClassName(t)).forEach(function(e){var t="";e.className.split(" ").forEach(function(e){return e===n?"":t=t.concat(e+" ")}),e.className=t,e.onclick=null}),l.onclick=null,c(),a.setState({menuToggled:!1})):(Array.from(document.getElementsByClassName(t)).forEach(function(e){e.className+=" "+n,e.onclick=function(){a.setState({menuToggled:!1},function(){c(),e.onclick=null})}}),i.style.left="0",l.style.opacity="0.5",l.style.left="0",l.style.top="0",l.style.visibility="visible",l.onclick=function(){return a.setState({menuToggled:!1},function(){return c()})},a.setState({menuToggled:!0}))},a.state={menuToggled:!1},a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"renderAuthForm",value:function(){var e=this.props.auth;if(e.initialized&&!e.fullName)return i.a.createElement(me,null)}},{key:"render",value:function(){var e=this.props.classes,t=this.props.location.pathname;return i.a.createElement("div",{className:e.app},i.a.createElement("div",{className:e.topMenu},i.a.createElement("div",{className:e.menuBtn,onClick:this.onMenuBtnClick}),i.a.createElement("div",{className:e.linkWrapper},i.a.createElement(pe.a,{className:"".concat(e.link," ").concat("/"===t?e.activeLink:""),to:"/"},"Profile"),i.a.createElement(pe.a,{className:"".concat(e.link," ").concat("/list"===t?e.activeLink:""),to:"/list"},"Restaurants"),i.a.createElement(pe.a,{className:"".concat(e.link," ").concat("/map"===t?e.activeLink:""),to:"/map"},"Map"))),i.a.createElement("div",{className:e.shadowMaker}),this.renderByUrl(),this.renderAuthForm())}}]),t}(i.a.Component),fe=Object(ue.a)(Object(h.withStyles)(function(e){return{app:{height:"100%",overflowY:"hidden"},shadowMaker:{display:"none"},topMenu:{margin:"0 auto",width:"100%",height:"40px",boxShadow:"0px -1px 20px 0px #212114bd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.primary.main},menuBtn:{width:"40px",height:"40px",backgroundSize:"100%",display:"none",cursor:"pointer",background:'url("/img/menu-icon.png")'},link:{textDecoration:"none",border:"1px solid #721d82",padding:"8px 20px",color:"#f5f6fa",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif;',transition:"background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, border 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms, color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",verticalAlign:"middle","&:focus":{color:"#141414",backgroundColor:e.palette.primary.light,outline:"none"},"&:active":{color:"#f5f6fa"},"&:hover":{color:"#141414",backgroundColor:e.palette.primary.light},"&:first-child":{borderBottomLeftRadius:"7px",borderTopLeftRadius:"7px"},"&:last-child":{borderBottomRightRadius:"7px",borderTopRightRadius:"7px"}},activeLink:{backgroundColor:e.palette.secondary.main,"&:focus":{color:"#f5f6fa",backgroundColor:e.palette.secondary.main,boxShadow:"inset 0 0 13px 0px #2c12386e"}},relocateText:{margin:"10px auto",width:"max-content"},"@media (max-width: 450px)":{app:{top:"40px",height:"calc(100% - 40px)",position:"relative"},menuBtn:{display:"block",position:"absolute",zIndex:"4",transition:"box-shadow 0.2s ease-out","&:hover":{boxShadow:"inset 0 0 16px 0px #2920206b"}},shadowMaker:{position:"absolute",height:"calc(100vh - 40px)",width:"100vw",zIndex:"2",opacity:"0",left:"0",top:"0",display:"block",visibility:"hidden",transition:"opacity 0.5s cubic-bezier(0.4, 0, 1, 1), visibility 0.5s ease ",background:"#1f1f1cdb"},topMenu:{flexDirection:"column",textAlign:"center",position:"fixed",top:"0",left:"0",zIndex:"3",alignItems:"flex-start","& > * > *":{width:"100%"}},linkWrapper:{minHeight:"100vh",left:"-220px",top:"0",position:"fixed",display:"flex",zIndex:"5",flexDirection:"column",transition:"left 0.5s cubic-bezier(0.4, 0, 1, 1)",background:"#e8e8e8"},link:{boxSizing:"border-box",width:"100%",padding:"15px",marginTop:"13px",borderRadius:"0",border:"0",position:"relative",color:"black",fontWeight:"600",fontSize:"27px","&:hover":{backgroundColor:"#8c13e821"},"&:focus":{backgroundColor:"#ac00f966",color:"inherit",boxShadow:"none"},"&:active":{color:"black"},"&:first-child":{borderTopLeftRadius:"0",borderBottomLeftRadius:"0"},"&:last-child":{borderTopRightRadius:"0",borderBottomRightRadius:"0"}},activeLink:{backgroundColor:"#ac00f966"},toggledLink:{extend:"link",visibility:"visible",opacity:"1"}}}})(Object(f.b)(function(e){return{auth:e.auth}},function(e){return{triggerGoogleLoaded:function(){return e(N())},triggerMapLoaded:function(){return e(G())},authSignIn:function(t){return e(x(t))},authSignOut:function(){return e(k())}}})(de))),ge=a(312),he=a(28),be=a(104),ve=a(105),ye=a(65),we=a(23),xe={isFetching:!1,error:"",items:[]};var ke={error:"",initialized:!1,needsGeolocation:!1,center:null};var Ee={error:"",initialized:!1,name:"",familyName:"",fullName:"",imageUrl:"",email:""};var Ce=Object(he.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(we.a)({},e,{initialized:!0});case b:var a=t.user,n=a.name,r=a.familyName,o=a.fullName,i=a.imageUrl,l=a.email;return Object(we.a)({},e,{error:"",name:n,familyName:r,fullName:o,imageUrl:i,email:l,isSignedIn:!0});case v:return Object(we.a)({},Ee,{initialized:e.initialized});case B:return Object(we.a)({},Ee,{initialized:e.initialized,error:B});default:return e}},restaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(we.a)({},e,{isFetching:!0,error:""});case z:return Object(we.a)({},e,{isFetching:!1,error:"",items:[].concat(Object(ye.a)(e.items),Object(ye.a)(t.restaurants))});case A:default:return e}},map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(we.a)({},e,{initialized:!0});case L:return Object(we.a)({},e,{needsGeolocation:!0});case D:return Object(we.a)({},e,{needsGeolocation:!1,center:{lat:t.center.lat,lng:t.center.lng}});default:return e}}}),Ne=Object(ve.createLogger)();a(306);var Se,Oe=Object(he.d)(Ce,Se,Object(he.a)(be.a,Ne)),Te=Object(h.createMuiTheme)({palette:{primary:{main:"#9c28b1",light:"#e1bee8"},secondary:{main:"#7920a2"}},typography:{useNextVariants:!0}});c.a.render(i.a.createElement(h.MuiThemeProvider,{theme:Te},i.a.createElement(ge.a,null,i.a.createElement(f.a,{store:Oe},i.a.createElement(fe,null)))),document.getElementById("root"))}},[[193,2,1]]]);
//# sourceMappingURL=main.bdf06cb1.chunk.js.map